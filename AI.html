<!DOCTYPE html>
<html>

<head>
  <title>Prompt Example</title>
  <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
      </script>
  <script type="module">
    import { GoogleGenerativeAI } from "@google/generative-ai";

    // Fetch your API_KEY
    const API_KEY = "AIzaSyDzjg42LAXGDk_4gmqBPFPbTKMovr0CUUU";

    // Access your API key (see "Set up your API key" above)
    const genAI = new GoogleGenerativeAI(API_KEY);

    // ...

    const model = genAI.getGenerativeModel({ model: "gemini-pro" });

    async function run() {
      var userInput;
      var input;
        userInput = document.getElementById('textBoxId').value;
        // input = userInput.toString();
        console.log(userInput);
      // For text-only input, use the gemini-pro model
      const model = genAI.getGenerativeModel({ model: "gemini-pro" });
      // const prompt = `Bhagvad Geeta Quote and exact shloka for ${input}`;
const prompt =`Bhagvad Geeta Quote and exact shloka for solution of ${userInput}` ;
      console.log(prompt);
      const result = await model.generateContent(prompt);
      const response = await result.response;
      const text = response.text();
      console.log(text);
      const para = document.getElementById('para');
      para.textContent = text;
      // const responseText = await run(prompt);
    }
    document.getElementById('myButton').addEventListener('click', async () => {
      var hasBeenCalled;
      if (!hasBeenCalled) {
        await run();
        console.log('Button clicked!');
        hasBeenCalled = true;
      }
    })

  </script>
</head>

<body>
  <h1>Welcome to Prompt Example</h1>
  <input id="textBoxId" type="text" placeholder="Enter your text here">
  <button id="myButton">Click me</button>
  <p id="response"></p>
  <p value=text id="para">May you find peace within yourself</p>
</body>

</html>
